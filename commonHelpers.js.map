{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey =\n  'live_n3WinCNEhIzDrfw6jESAPNolxerre1jDMGddp8KKRb0d6tPapfjNXTj69MMEqHQ1';\n\naxios.defaults.headers.common['x-api-key'] = apiKey;\n\nexport function fetchBreeds() {\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data)\n    .catch(error => {\n      console.error('Error fetching breeds:', error);\n      throw error;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n\n  return axios\n    .get(url)\n    .then(response => response.data[0])\n    .catch(error => {\n      console.error('Error fetching cat by breed:', error);\n      throw error;\n    });\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst errorElement = document.querySelector('.error');\nconst catInfoDiv = document.querySelector('.cat-info');\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nfunction showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message || 'Oops! Something went wrong!',\n    position: 'topRight',\n  });\n}\n\nfunction hideError() {\n  errorElement.style.display = 'none';\n}\n\nfunction updateCatInfo(cat) {\n  catInfoDiv.innerHTML = `\n    <img src=\"${cat.url}\" alt=\"Cat Image\" width=600 heigh=600>\n    <p>Breed: ${cat.breeds[0].name}</p>\n    <p>Description: ${cat.breeds[0].description}</p>\n    <p>Temperament: ${cat.breeds[0].temperament}</p>\n  `;\n}\n\nfunction populateBreedsSelect(breeds) {\n  breeds.forEach(breed => {\n    const option = document.createElement('option');\n    option.value = breed.id;\n    option.text = breed.name;\n    breedSelect.appendChild(option);\n  });\n}\n\nbreedSelect.addEventListener('change', () => {\n  const selectedBreedId = breedSelect.value;\n\n  if (selectedBreedId) {\n    showLoader();\n    hideError();\n\n    fetchCatByBreed(selectedBreedId)\n      .then(cat => {\n        updateCatInfo(cat);\n        hideLoader();\n      })\n      .catch(() => {\n        showError();\n        hideLoader();\n      });\n  }\n});\n\n// Load breeds on page load\nshowLoader();\nhideError();\n\nfetchBreeds()\n  .then(breeds => {\n    populateBreedsSelect(breeds);\n    hideLoader();\n  })\n  .catch(() => {\n    showError();\n    hideLoader();\n  });\n"],"names":["apiKey","axios","fetchBreeds","response","error","fetchCatByBreed","breedId","url","breedSelect","loader","errorElement","catInfoDiv","showLoader","hideLoader","showError","message","iziToast","hideError","updateCatInfo","cat","populateBreedsSelect","breeds","breed","option","selectedBreedId"],"mappings":"wvBAEA,MAAMA,EACJ,wEAEFC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAEtC,SAASE,GAAc,CAC5B,OAAOD,EACJ,IAAI,qCAAqC,EACzC,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvC,MAAMC,EAAM,wDAAwDD,IAEpE,OAAOL,EACJ,IAAIM,CAAG,EACP,KAAKJ,GAAYA,EAAS,KAAK,EAAE,EACjC,MAAMC,GAAS,CACd,cAAQ,MAAM,+BAAgCA,CAAK,EAC7CA,CACZ,CAAK,CACL,CCtBA,MAAMI,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAa,SAAS,cAAc,WAAW,EAErD,SAASC,GAAa,CACpBH,EAAO,MAAM,QAAU,OACzB,CAEA,SAASI,GAAa,CACpBJ,EAAO,MAAM,QAAU,MACzB,CAEA,SAASK,EAAUC,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,GAAW,8BACpB,SAAU,UACd,CAAG,CACH,CAEA,SAASE,GAAY,CACnBP,EAAa,MAAM,QAAU,MAC/B,CAEA,SAASQ,EAAcC,EAAK,CAC1BR,EAAW,UAAY;AAAA,gBACTQ,EAAI;AAAA,gBACJA,EAAI,OAAO,GAAG;AAAA,sBACRA,EAAI,OAAO,GAAG;AAAA,sBACdA,EAAI,OAAO,GAAG;AAAA,GAEpC,CAEA,SAASC,EAAqBC,EAAQ,CACpCA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,KAAOD,EAAM,KACpBd,EAAY,YAAYe,CAAM,CAClC,CAAG,CACH,CAEAf,EAAY,iBAAiB,SAAU,IAAM,CAC3C,MAAMgB,EAAkBhB,EAAY,MAEhCgB,IACFZ,IACAK,IAEAZ,EAAgBmB,CAAe,EAC5B,KAAKL,GAAO,CACXD,EAAcC,CAAG,EACjBN,GACR,CAAO,EACA,MAAM,IAAM,CACXC,IACAD,GACR,CAAO,EAEP,CAAC,EAGDD,IACAK,IAEAf,EAAa,EACV,KAAKmB,GAAU,CACdD,EAAqBC,CAAM,EAC3BR,GACJ,CAAG,EACA,MAAM,IAAM,CACXC,IACAD,GACJ,CAAG"}